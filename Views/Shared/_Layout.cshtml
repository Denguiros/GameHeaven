@using GameHeaven.Entities
@using GameHeaven.ViewModels
@model ViewModelBase



@{
    var user = Context.Session.GetObject<ApplicationUser>("User");
}



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - GameHeaven</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" type="image/png" href="~/images/favicon.png">

    <!-- START: Styles -->
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300i,400,400i,700%7cMarcellus+SC" rel="stylesheet">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="~/vendor/bootstrap/dist/css/bootstrap.min.css">

    <!-- FontAwesome -->
    <script defer src="~/vendor/fontawesome-free/js/all.js"></script>
    <script defer src="~/vendor/fontawesome-free/js/v4-shims.js"></script>

    <!-- IonIcons -->
    <link rel="stylesheet" href="~/vendor/ionicons/css/ionicons.min.css">

    <!-- Revolution Slider -->
    <link rel="stylesheet" href="~/vendor/revolution/css/settings.css">
    <link rel="stylesheet" href="~/vendor/revolution/css/layers.css">
    <link rel="stylesheet" href="~/vendor/revolution/css/navigation.css">

    <!-- Flickity -->
    <link rel="stylesheet" href="~/vendor/flickity/dist/flickity.min.css">

    <!-- Photoswipe -->
    <link rel="stylesheet" href="~/vendor/photoswipe/dist/photoswipe.css">
    <link rel="stylesheet" href="~/vendor/photoswipe/dist/default-skin/default-skin.css">

    <!-- DateTimePicker -->
    <link rel="stylesheet" href="~/vendor/jquery-datetimepicker/build/jquery.datetimepicker.min.css">

    <!-- Summernote -->
    <link rel="stylesheet" href="~/vendor/summernote/dist/summernote-bs4.css">

    <!-- GODLIKE -->
    <link rel="stylesheet" href="~/css/godlike.css">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="~/css/custom.css">
    <link rel="stylesheet" href="~/css/toastr.min.css" asp-append-version="true">
    <!-- END: Styles -->
    <!-- jQuery -->
    <script src="~/vendor/jquery/dist/jquery.min.js"></script>
    <script src="~/js/axios.min.js"></script>
    <script src="~/js/requests.js"></script>
    <script src="~/js/toastr.min.js"></script>

    <script type="text/javascript">
        function readTextFile(file, callback) {
        var rawFile = new XMLHttpRequest();
        rawFile.overrideMimeType("application/json");
        rawFile.open("GET", file, true);
        rawFile.onreadystatechange = function() {
            if (rawFile.readyState === 4 && rawFile.status == "200") {
                callback(rawFile.responseText);
            }
        }
        rawFile.send(null);
        }

    </script>
    <script type="module">
                var Dai = '';
                var PaymentProcessor = '';
                readTextFile("/js/src/contracts/Dai.json", function(text){
                Dai = JSON.parse(text);
                });
                readTextFile("/js/src/contracts/PaymentProcessor.json", function(text){
                    PaymentProcessor = JSON.parse(text);
                });
                    import { ethers, Contract } from "/js/ethers-5.2.esm.min.js";
                    window.ethers = ethers;
                          const getBlockchain = () =>
                //new Promise((resolve, reject) => {
                //  window.addEventListener("load", async () => {
                //    if (window.ethereum) {
                //      await window.ethereum.enable();
                //      const provider = new ethers.providers.Web3Provider(window.ethereum);
                //      const signer = provider.getSigner();
                //      const signerAddress = await signer.getAddress();

                //      const paymentProcessor = new Contract(
                //        PaymentProcessor.networks[window.ethereum.networkVersion].address,
                //        PaymentProcessor.abi,
                //        signer
                //      );
                //      const dai = new Contract(
                //        Dai.networks[window.ethereum.networkVersion].address, //for mainnet and public testnet replace by address of already deployed dai token
                //        Dai.abi,
                //        signer
                //      );

                //      resolve({ provider, paymentProcessor, dai });
                //    }
                //    resolve({
                //      provider: undefined,
                //      paymentProcessor: undefined,
                //      dai: undefined,
                //    });
                //  });
                //});
                var bc = await getBlockchain();
                var paymentProcessor = bc.paymentProcessor;
                var dai = bc.dai;


                var paymentResponse;
                const buy = async function (items) {
                      $.ajax({
                        type: "POST",
                        url: '@Url.Action("AddPayment", "Payment")',
                        data: null,
                        success: async function (response) {
                            paymentResponse = response;
                            console.log(paymentResponse.gameIds);
                            const API_URL = "http://localhost:4000";
                            var ids = "";
                            for(var i in paymentResponse.gameIds)
                            {
                                if(i < paymentResponse.gameIds.length-1)
                                ids +=paymentResponse.gameIds[i]+',';
                                else
                                ids +=paymentResponse.gameIds[i];
                            }
                            console.log(ids);
                            const response1 = await axios.get(`${API_URL}/api/getPaymentId/${paymentResponse.paymentId}?ids=[${ids}]`);
                            const tx1 = await dai.approve(paymentProcessor.address, items.price);
                            await tx1.wait();

                            const tx2 = await paymentProcessor.pay(
                            items.price,
                            paymentResponse.paymentId
                            );
                            const receipt = await tx2.wait();

                            await new Promise((resolve) => setTimeout(resolve, 3000));
                            const response2 = await axios.get(
                            `${API_URL}/api/getApproval/${paymentResponse.paymentId}`
                            );
                            var approval = response2.data.approval;
                            var pid = paymentResponse.paymentId;
                            console.log(pid);
                            if(new String(approval).valueOf() == new String("true").valueOf())
                            {
                                console.log("Approval : "+response2.data.approval);
                                console.log(pid);
                                $.ajax({
                                    type: "POST",
                                    url: '@Url.Action("ApprovePayment", "Payment")',
                                    data: {paymentId:pid},
                                    success: async function (response) {
                                        for(var msg in response.messages)
                                        {
                                            toastr.options.closeButton = true;
                                            toastr.options.closeMethod = 'fadeOut';
                                            toastr.options.closeDuration = 300;
                                            toastr.options.closeEasing = 'swing';
                                            toastr.info(response.messages[msg]);

                                        }
                                        for(var msg in response.errors)
                                        {
                                            toastr.options.closeButton = true;
                                            toastr.options.closeMethod = 'fadeOut';
                                            toastr.options.closeDuration = 300;
                                            toastr.options.closeEasing = 'swing';
                                            toastr.error(response.errors[msg]);
                                        }
                                        getCart('@Url.Action("GetCart", "Cart")');
                                        await new Promise(resolve => setTimeout(resolve, 1000));
                                        window.location.replace("https://localhost:5003");
                                    },
                                     error: function (message) {
                                      console.log(message);
                                    }
                                });
                            }
                        },
                        error: function (message) {
                            console.log(message);
                        }
                      });

                  };
                  window.buy = buy;

                  $(document).ready(function () {
            getCart('@Url.Action("GetCart", "Cart")');
        });
    </script>

</head>
<body>
    <!-- START: Page Preloader -->
    <div class="nk-preloader">
        <!--
             Preloader animation
             data-close-... data used for closing preloader
             data-open-...  data used for opening preloader
        -->
        <div class="nk-preloader-bg"
             style="background-color: #000;"
             data-close-frames="23"
             data-close-speed="1.2"
             data-close-sprites="images/preloader-bg.png"
             data-open-frames="23"
             data-open-speed="1.2"
             data-open-sprites="images/preloader-bg-bw.png">
        </div>

        <div class="nk-preloader-content">
            <div>
                <h1 class="nk-title display-3">GameHeaven</h1>
                <div class="nk-preloader-animation"></div>
            </div>
        </div>

        <div class="nk-preloader-skip">Skip</div>
    </div>
    <!-- END: Page Preloader -->
    <!--
        START: Page Video Background

        Additional Attributes:
            data-video - Youtube/Vimeo/self-hosted video urls.
                self-hosted video example:
                data-video="mp4:./video/local-video.mp4,webm:./video/local-video.webm,ogv:./video/local-video.ogv"
            data-video-loop - loop video (true/false)
            data-video-mute - mute video music (true/false)
            data-video-volume - volume of video music (0-100)
            data-video-start-time - video start time in seconds
            data-video-end-time - video end time in seconds
            data-video-pause-on-page-leave - pause video when the page not in focus (true/false)
    -->
    <div class="nk-page-background op-5" data-video="https://youtu.be/UkeDo1LhUqQ" data-video-loop="true" data-video-mute="true" data-video-volume="0" data-video-start-time="0" data-video-end-time="0" data-video-pause-on-page-leave="true" style="background-image: url('images/page-background.jpg');"></div>
    <!-- END: Page Background -->
    <!--
        START: Page Audio Background²

        Additional Attributes:
            data-audio - URL to audio file
            data-audio-volume - audio volume (0-100)
            data-audio-autoplay - autoplay audio (true/false)
            data-audio-loop - loop audio (true/false)
            data-audio-pause-on-page-leave - pause video when the page not in focus (true/false)
    -->
    <div class="nk-page-background-audio d-none" data-audio="~/mp3/purpleplanetmusic-desolation.mp3" data-audio-volume="100" data-audio-autoplay="true" data-audio-loop="true" data-audio-pause-on-page-leave="true"></div>
    <!-- END: Page Background -->
    <!-- START: Page Border -->
    <div class="nk-page-border">
        <div class="nk-page-border-t"></div>
        <div class="nk-page-border-r"></div>
        <div class="nk-page-border-b"></div>
        <div class="nk-page-border-l"></div>
    </div>
    <!-- END: Page Border -->
    <!--
        Additional Classes:
            .nk-header-opaque
    -->
    <header class="nk-header nk-header-opaque">



        <!--
            START: Top Contacts

            Additional Classes:
                .nk-contacts-top-light
        -->
        <div class="nk-contacts-top">
            <div class="container">
                <div class="nk-contacts-left">
                    <div class="nk-navbar">
                        <ul class="nk-nav">
                            <li class="nk-drop-item">
                                <a href="#">USA</a>
                                <ul class="dropdown">
                                    <li><a href="#">USA</a></li>
                                    <li><a href="#">Russia</a></li>
                                    <li><a href="#">United Kingdom</a></li>
                                    <li><a href="#">France</a></li>
                                    <li><a href="#">Spain</a></li>
                                    <li><a href="#">Germany</a></li>
                                </ul>
                            </li>
                            <li><a href="#">Privacy</a></li>
                            <li><a href="page-contact.html">Contact</a></li>
                        </ul>
                    </div>
                </div>
                <div class="nk-contacts-right">
                    <div class="nk-navbar">
                        <ul class="nk-nav">
                            <li><a href="#" target="_blank"><span class="ion-social-twitter"></span></a></li>
                            <li><a href="#" target="_blank"><span class="ion-social-dribbble-outline"></span></a></li>
                            <li><a href="#"><span class="ion-social-instagram-outline"></span></a></li>
                            <li><a href="#"><span class="ion-social-pinterest"></span></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- END: Top Contacts -->
        <!--
            START: Navbar

            Additional Classes:
                .nk-navbar-sticky
                .nk-navbar-transparent
                .nk-navbar-autohide
                .nk-navbar-light
                .nk-navbar-no-link-effect
        -->
        <nav class="nk-navbar nk-navbar-top nk-navbar-sticky nk-navbar-transparent nk-navbar-autohide">
            <div class="container">
                <div class="nk-nav-table">

                    <a asp-controller="Home" asp-action="Index" class="nk-nav-logo">
                        GameHeaven
                    </a>


                    <ul class="nk-nav nk-nav-right d-none d-lg-block" data-nav-mobile="#nk-nav-mobile">
                        <li class="active  nk-item">
                            <a asp-controller="Home" asp-action="Index">
                                Home
                            </a>
                           
                        </li>
                        <li class="  nk-drop-item">
                            <a href="page-contact.html">
                                Games
                            </a>
                            <ul class="dropdown">
                                <li class="  nk-drop-item">
                                    <a href="#">
                                        Latest
                                    </a>
                                   
                                </li>
                                <li class="  nk-drop-item">
                                    <a href="">
                                        Genres
                                    </a>
                                    <ul class="dropdown">
                                        <li class="  ">
                                            <a href="">
                                                Action
                                            </a>
                                        </li>
                                        <li class="  ">
                                            <a href="">
                                                Adventure
                                            </a>
                                        </li>
                                        <li class="  ">
                                            <a href="">
                                                Sports
                                            </a>
                                        </li>
                                        <li class="  ">
                                            <a href="">
                                                Free 
                                            </a>
                                        </li>
                                        <li class="  ">
                                            <a href="">
                                                Paid
                                            </a>
                                        </li>
                                        
                                    </ul>
                                </li>
                                
                                
                                
                            </ul>
                        </li>
                        
                        <li class="  nk-drop-item">
                            <a href="">
                                News
                            </a>
                            <ul class="dropdown">
                                <li class="  ">
                                    <a href="">
                                        Developers news
                                    </a>
                                </li>
                                <li class="  ">
                                    <a href="news-list-classic.html">
                                        Games news 
                                    </a>
                                </li>
                                
                               
                            </ul>
                        </li>
                        <li class="  nk-item">
                            <a href="">
                                Forum
                            </a>
                            
                        </li>
                        
                        
                    </ul>

                    <ul class="nk-nav nk-nav-right nk-nav-icons">

                        <li class="single-icon d-lg-none">
                            <a href="#" class="no-link-effect" data-nav-toggle="#nk-nav-mobile">
                                <span class="nk-icon-burger">
                                    <span class="nk-t-1"></span>
                                    <span class="nk-t-2"></span>
                                    <span class="nk-t-3"></span>
                                </span>
                            </a>
                        </li>



                        <li class="single-icon">
                            <a href="#" class="nk-search-toggle no-link-effect">
                                <span class="nk-icon-search"></span>
                            </a>
                        </li>


                        @if (user is not null)
                        {

                            <li class="single-icon">
                                <a href="#" class="nk-cart-toggle no-link-effect" onclick="getCart('@Url.Action("GetCart", "Cart")')">
                                    <span class="nk-icon-toggle">
                                        <span class="nk-icon-toggle-front">
                                            <span class="ion-android-cart"></span>
                                            <span class="nk-badge" id="totalOfCartItems">0</span>
                                        </span>
                                        <span class="nk-icon-toggle-back">
                                            <span class="nk-icon-close"></span>
                                        </span>
                                    </span>
                                </a>
                            </li>

                        }
                        @if (user is null)
                        {
                            <li class="single-icon">
                                <a href="#" class="nk-sign-toggle no-link-effect">
                                    <span class="nk-icon-toggle">
                                        <span class="nk-icon-toggle-front">
                                            <span class="fa fa-sign-in"></span>
                                        </span>
                                        <span class="nk-icon-toggle-back">
                                            <span class="nk-icon-close"></span>
                                        </span>
                                    </span>

                                </a>
                            </li>
                        }


                        @if (user != null)
                        {
                            <li class="single-icon">
                                <a href="#" class="no-link-effect" data-nav-toggle="#nk-side">
                                    <span class="nk-icon-burger">
                                        <span class="nk-t-1"></span>
                                        <span class="nk-t-2"></span>
                                        <span class="nk-t-3"></span>
                                    </span>
                                </a>
                            </li>
                        }
                    </ul>
                </div>
            </div>
        </nav>
        <!-- END: Navbar -->

    </header>
    <!--
        START: Right Navbar

        Additional Classes:
            .nk-navbar-right-side
            .nk-navbar-left-side
            .nk-navbar-lg
            .nk-navbar-align-center
            .nk-navbar-align-right
            .nk-navbar-overlay-content
            .nk-navbar-light
            .nk-navbar-no-link-effect
    -->

    <nav class="nk-navbar nk-navbar-side nk-navbar-right-side nk-navbar-lg nk-navbar-align-center nk-navbar-overlay-content" id="nk-side">

        <div class="nk-navbar-bg">
            <div class="bg-image">
                <img src="~/images/bg-nav-side-right.jpg" alt="" class="jarallax-img">
            </div>
        </div>


        <div class="nano">
            <div class="nano-content">
                <div class="nk-nav-table">

                    <div class="nk-nav-row">
                        <a href="index.html" class="nk-nav-logo">
                            <img src="~/images/logo.svg" alt="" width="150">
                        </a>
                    </div>

                    <div class="nk-nav-row nk-nav-row-full nk-nav-row-center">
                        <ul class="nk-nav">


                            @if (user != null)
                            {
                                <li class=" ">

                                    <a href="#">

                                    </a>
                                </li>
                                <li class=" nk-drop-item">
                                    <a href="#">
                                        @user.UserProperties.UserName
                                    </a>
                                    <ul class="dropdown">
                                        <li class=" ">
                                            <a asp-area="" asp-controller="User" asp-action="Index">
                                                Profile
                                            </a>
                                        </li>
                                        <li class=" ">
                                            <a asp-area="" asp-controller="User" asp-action="Edit">
                                                Edit Profile
                                            </a>
                                        </li>
                                        <li class=" ">
                                            <a href="#2">
                                                Logout
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                                <li class=" nk-drop-item">
                                    <a href="#">
                                        Advanced Options
                                    </a>
                                    <ul class="dropdown">
                                        @if (user.Roles.Contains("Admin"))
                                        {
                                            <li class=" ">

                                                <a asp-area="Admin" asp-controller="Home" asp-action="Index">
                                                    Admin Dashboard
                                                </a>

                                            </li>
                                        }
                                        @if (user.Publisher is not null)
                                        {
                                            <li class=" nk-drop-item">

                                                <a href="#1">
                                                    @user.Publisher.Name
                                                </a>
                                                <ul class="dropdown">
                                                    <li class=" ">
                                                        <a href="#2">
                                                            Visit Page
                                                        </a>
                                                    </li>
                                                    <li class=" ">
                                                        <a href="#2">
                                                            Edit
                                                        </a>
                                                    </li>
                                                    <li class=" ">
                                                        <a href="#2">
                                                            Unregister
                                                        </a>
                                                    </li>
                                                </ul>
                                            </li>
                                        }
                                        else
                                        {
                                            <li class=" ">

                                                <a href="#1">
                                                    Register as publisher
                                                </a>

                                            </li>
                                        }
                                    </ul>
                                </li>
                            }
                        </ul>

                    </div>
                </div>
            </div>
        </div>
    </nav>
    <!-- END: Right Navbar -->
    <!--
        START: Navbar Mobile

        Additional Classes:
            .nk-navbar-left-side
            .nk-navbar-right-side
            .nk-navbar-lg
            .nk-navbar-overlay-content
            .nk-navbar-light
            .nk-navbar-no-link-effect
    -->
    <div id="nk-nav-mobile" class="nk-navbar nk-navbar-side nk-navbar-left-side nk-navbar-overlay-content d-lg-none">
        <div class="nano">
            <div class="nano-content">
                <a href="index.html" class="nk-nav-logo">
                    <img src="~/images/logo.svg" alt="" width="90">
                </a>
                <div class="nk-navbar-mobile-content">
                    <ul class="nk-nav">
                        <!-- Here will be inserted menu from [data-mobile-menu="#nk-nav-mobile"] -->
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- END: Navbar Mobile -->
    <div class="nk-main">

        @RenderBody()
        <!-- START: Subscribe -->
        <div class="nk-box bg-dark-1">
            <div class="nk-gap-2"></div>
            <div class="container">
                <div class="row">
                    <div class="col-md-8 offset-md-2 col-lg-6 offset-lg-3">
                        <h2 class="nk-title text-center h1">Subscribe to our Newsletter</h2>
                        <div class="nk-gap-2"></div>

                        <!-- START: MailChimp Signup Form -->
                        <form action="//nkdev.us11.list-manage.com/subscribe/post?u=d433160c0c43dcf8ecd52402f&amp;id=7eafafe8f0" method="post" class="nk-mchimp validate" target="_blank">
                            <div class="input-group">
                                <input type="email" value="" name="EMAIL" class="required email form-control" placeholder="Email *">
                                <button class="nk-btn nk-btn-lg link-effect-4">Subscribe</button>
                            </div>
                            <div class="nk-form-response-success"></div>
                            <div class="nk-form-response-error"></div>
                            <small>We'll never share your email with anyone else.</small>
                            <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                            <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_d433160c0c43dcf8ecd52402f_7eafafe8f0" tabindex="-1" value=""></div>
                        </form>
                        <!-- END: MailChimp Signup Form -->
                    </div>
                </div>
            </div>
            <div class="nk-gap-2"></div>
            <div class="nk-gap-6"></div>
            <div class="nk-gap-4"></div>
        </div>
        <!-- END: Subscribe -->
        <!-- START: Footer -->
        <!--
            Additional Classes:
                .nk-footer-parallax
                .nk-footer-parallax-opacity
        -->
        <footer class="nk-footer nk-footer-parallax nk-footer-parallax-opacity">
            <img class="nk-footer-top-corner" src="~/images/footer-corner.png" alt="">



            <div class="container">
                <div class="nk-gap-2"></div>
                <div class="nk-footer-logos">
                    <a href="https://themeforest.net/user/_nk/portfolio?ref=_nK" target="_blank"><img class="nk-img" src="~/images/footer-logo-godlike.png" alt="" width="120"></a>
                    <a href="https://themeforest.net/user/_nk/portfolio?ref=_nK" target="_blank"><img class="nk-img" src="~/images/footer-logo-yp3.png" alt="" width="120"></a>
                    <a href="https://themeforest.net/user/_nk/portfolio?ref=_nK" target="_blank"><img class="nk-img" src="~/images/footer-logo-nk-team.png" alt="" width="150"></a>
                    <a href="https://themeforest.net/user/_nk/portfolio?ref=_nK" target="_blank"><img class="nk-img" src="~/images/footer-logo-pegi-18.png" alt="" width="46"></a>
                    <a href="https://themeforest.net/user/_nk/portfolio?ref=_nK" target="_blank"><img class="nk-img" src="~/images/footer-logo-18-restricted.png" alt="" width="160"></a>
                </div>
                <div class="nk-gap"></div>

                <p>
                    &copy; 2018 nK Group Inc. Developed in association with LoremInc. IpsumCompany, SitAmmetGroup, CumSit and related logos are registered trademarks. GodLike and related logos are registered trademarks or trademarks of id Software LLC in the U.S. and/or other countries. All other trademarks or trade names are the property of their respective owners. All Rights Reserved.
                </p>
                <p>
                    GodLike &reg;: The Darkness&trade; is a fowl beginning there Over had moveth so land wherein, fruit very gathering of, female creepeth. Dominion above sea gathered unto whales. Subdue to, have Life fowl firmament wherein. Great air without for, great him he That let earth together thing sea fly gathering. Air whose. Green in face tree to spirit life. Place stars. It two. Deep seed man isn't third. Own he is may had darkness waters you'll forth fifth their don't also fruitful be years in spirit to tree. Sixth fourth open female.
                </p>

                <div class="nk-footer-links">
                    <a href="#" class="link-effect">Terms of Service</a> <span>|</span> <a href="#" class="link-effect">Privacy Policy</a>
                </div>

                <div class="nk-gap-4"></div>
            </div>
        </footer>
    </div>
    <!-- END: Footer -->
    @{
        await Html.RenderPartialAsync("~/Views/Shared/_Authentication.cshtml");
    }
    @{
        await Html.RenderPartialAsync("~/Views/Shared/_Cart.cshtml");
    }

    @{
        await Html.RenderPartialAsync("~/Views/Shared/_Search.cshtml");
    }
    @{
        await Html.RenderPartialAsync("~/Views/Shared/_Share_Buttons.cshtml");
    }







    <!-- START: Scripts -->
    <!-- Object Fit Polyfill -->
    <script src="~/vendor/object-fit-images/dist/ofi.min.js"></script>

    <!-- GSAP -->
    <script src="~/vendor/gsap/src/minified/TweenMax.min.js"></script>
    <script src="~/vendor/gsap/src/minified/plugins/ScrollToPlugin.min.js"></script>

    <!-- Popper -->
    <script src="~/vendor/popper.js/dist/umd/popper.min.js"></script>

    <!-- Bootstrap -->
    <script src="~/vendor/bootstrap/dist/js/bootstrap.min.js"></script>

    <!-- Sticky Kit -->
    <script src="~/vendor/sticky-kit/dist/sticky-kit.min.js"></script>

    <!-- Jarallax -->
    <script src="~/vendor/jarallax/dist/jarallax.min.js"></script>
    <script src="~/vendor/jarallax/dist/jarallax-video.min.js"></script>

    <!-- imagesLoaded -->
    <script src="~/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>

    <!-- Flickity -->
    <script src="~/vendor/flickity/dist/flickity.pkgd.min.js"></script>

    <!-- Isotope -->
    <script src="~/vendor/isotope-layout/dist/isotope.pkgd.min.js"></script>

    <!-- Photoswipe -->
    <script src="~/vendor/photoswipe/dist/photoswipe.min.js"></script>
    <script src="~/vendor/photoswipe/dist/photoswipe-ui-default.min.js"></script>

    <!-- Typed.js -->
    <script src="~/vendor/typed.js/lib/typed.min.js"></script>

    <!-- Jquery Validation -->
    <script src="~/vendor/jquery-validation/dist/jquery.validate.min.js"></script>

    <!-- Jquery Countdown + Moment -->
    <script src="~/vendor/jquery-countdown/dist/jquery.countdown.min.js"></script>
    <script src="~/vendor/moment/min/moment.min.js"></script>
    <script src="~/vendor/moment-timezone/builds/moment-timezone-with-data.min.js"></script>

    <!-- Hammer.js -->
    <script src="~/vendor/hammerjs/hammer.min.js"></script>

    <!-- NanoSroller -->
    <script src="~/js/jquery.nanoscroller.js"></script>

    <!-- SoundManager2 -->
    <script src="~/vendor/soundmanager2/script/soundmanager2-nodebug-jsmin.js"></script>

    <!-- DateTimePicker -->
    <script src="~/vendor/jquery-datetimepicker/build/jquery.datetimepicker.full.min.js"></script>

    <!-- Revolution Slider -->
    <script src="~/vendor/revolution/js/jquery.themepunch.tools.min.js"></script>
    <script src="~/vendor/revolution/js/jquery.themepunch.revolution.min.js"></script>
    <script src="~/vendor/revolution/js/extensions/revolution.extension.video.min.js"></script>
    <script src="~/vendor/revolution/js/extensions/revolution.extension.carousel.min.js"></script>
    <script src="~/vendor/revolution/js/extensions/revolution.extension.navigation.min.js"></script>

    <!-- Keymaster -->
    <script src="~/vendor/keymaster/keymaster.js"></script>

    <!-- Summernote -->
    <script src="~/vendor/summernote/dist/summernote-bs4.min.js"></script>

    <!-- GODLIKE -->
    <script src="~/js/godlike.min.js"></script>
    <script src="~/js/godlike-init.js"></script>


    <!-- END: Scripts -->



    <script type="text/javascript">
        var tpj=jQuery;
        var revapi50;
        tpj(document).ready(function() {
            if(tpj("#rev_slider_50_1").revolution == undefined){
                revslider_showDoubleJqueryError("#rev_slider_50_1");
            }else{
                revapi50 = tpj("#rev_slider_50_1").show().revolution({
                    sliderType:"carousel",
                    jsFileLocation:"~/vendor/revolution/js/",
                    sliderLayout:"auto",
                    dottedOverlay:"none",
                    delay:9000,
                    navigation: {
                        keyboardNavigation:"off",
                        keyboard_direction: "horizontal",
                        onHoverStop:"off",
                    },
                    carousel: {
                        maxRotation: 8,
                        vary_rotation: "off",
                        minScale: 20,
                        vary_scale: "off",
                        horizontal_align: "center",
                        vertical_align: "center",
                        fadeout: "off",
                        vary_fade: "off",
                        maxVisibleItems: 3,
                        infinity: "on",
                        space: -90,
                        stretch: "off"
                    },
                    responsiveLevels:[1240,1024,778,480],
                    gridwidth:[800,600,400,320],
                    gridheight:[600,400,320,280],
                    lazyType:"none",
                    shadow:0,
                    spinner:"off",
                    stopLoop:"on",
                    stopAfterLoops:0,
                    stopAtSlide:0,
                    shuffle:"off",
                    autoHeight:"off",
                    fullScreenAlignForce:"off",
                    fullScreenOffsetContainer: "",
                    fullScreenOffset: "",
                    disableProgressBar:"on",
                    hideThumbsOnMobile:"off",
                    hideSliderAtLimit:0,
                    hideCaptionAtLimit:0,
                    hideAllCaptionAtLilmit:0,
                    debugMode:false,
                    fallbacks: {
                        simplifyAll:"off",
                        nextSlideOnWindowFocus:"off",
                        disableFocusListener:false,
                    }
                });
            }
        });
    </script>
    @if (Model is not null)
    {
        @if (Model.Messages is not null)
        {
            @if (Model.Messages.Count > 0)
            {
                @foreach (var message in Model.Messages)
                {
                    <script type="text/javascript">

                        toastr.options.closeButton = true;
                        toastr.options.closeMethod = 'fadeOut';
                        toastr.options.closeDuration = 300;
                        toastr.options.closeEasing = 'swing';
                        toastr.info('@message');
                    </script>
                }
            }
        }
        @if (Model.Errors is not null)
        {
            @if (Model.Errors.Count > 0)
            {
                @foreach (var error in Model.Errors)
                {
                    <script type="text/javascript">
                        toastr.options.closeButton = true;
                        toastr.options.closeMethod = 'fadeOut';
                        toastr.options.closeDuration = 300;
                        toastr.options.closeEasing = 'swing';
                        toastr.error('@error');
                    </script>
                }

            }
        }
    }

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
